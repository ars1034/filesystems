<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <script type="text/javascript" src="cordova.js"></script>
		<title>FS</title>
<script>
		document.addEventListener('deviceready', onDeviceReady, false);
		function onDeviceReady(){
  var size =0;
  window.requestFileSystem(LocalFileSystem.PERSISTENT, size, onFSsuccess, onFSerror);
}
		function onFSsuccess(FS){
  var Fin = FS.root.createReader();
  Fin.readEntries(parseDir, onFSerror);
}
		function onFSerror(err){
  alert ("Error " + err);
}
		function parseDir (entries) {
			var dirs='Directories:<ul>';
			var files='Files: <ul>';
				for (var i=0, len=entries.length; i< len; i++) {
			if (entries[i].isDirectory) {
    	dirs +='<li>' + entries[i].fullPath+ '</li>';
	}
			else
		files +='<li>' + entries[i].fullPath+ '</li>'; 
	}
	dirs +='</ul>';
	files +='</ul>';
	document.getElementById("fileslist").innerHTML += dirs + files;
	alert ("done parsing");
  }
}
</script> 
    </head>
    <body>
       Looking for file systems
    </body>
</html>
